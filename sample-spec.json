{
    "sections": [
        {
            "name": "Initialization",
            "description": "This initializes everything.",
            "locations": ["InstanceRoot", "StaticData", "StaticLanguageData", "StaticLocaleData"]
        },
        {
            "name": "Browsing",
            "description": "This is for browsing.",
            "locations": ["Availability", "Reservations", "Reservation", "ExchangeRate"]
        }
    ],
    "locations": {
        "InstanceRoot": {
            "type": "symbolic",
            "location": "InstanceRoot",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Retrieves the URLs for all other service calls for this IBE instance.",
                    "description": "This API leverages HATEOAS as per the RESTful design pattern. This means that other than this initial query, all other URLs are provided in responses, including this one. No other URL should be coded to directly, as their locations might change.",
                    "request": {
                        "query": [
                            {
                                "name": "id",
                                "description": "The id of the site.",
                                "frequency": "required"
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "InstanceRootResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 404,
                            "statusMessage": "Not Found"
                        }
                    ]
                }
            ]
        },
        "StaticData": {
            "type": "symbolic",
            "location": "StaticData",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Retrieves static application data.",
                    "description": "Retrieves all the language- and locale-independent static data any client might need to run this application.",
                    "request": {},
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "StaticDataResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "StaticLanguageData": {
            "type": "symbolic",
            "location": "StaticLanguageData",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Retrieves static language-specific application data.",
                    "description": "Retrieves all the language-specific static data any client might need to run this application in the given language.",
                    "request": {
                        "header": [
                            {
                                "name": "Accept-Language",
                                "description": "The language of the language-specific data to be returned.",
                                "frequency": "required",
                                "criteria": ["https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4"],
                                "examples": ["en_US"]
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Language",
                                    "description": "The language of the language-specific data to be returned.",
                                    "frequency": "required",
                                    "criteria": ["https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4"],
                                    "examples": ["en_US"]
                                },
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "StaticLanguageDataResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "StaticLocaleData": {
            "type": "symbolic",
            "location": "StaticLocaleData",
            "methods": [
                {
                    "method" : "GET",
                    "summary": "Retrieves static locale-specific application data.",
                    "description": "Retrieves all the locale-specific static data any client might need to run this application in the given locale.",
                    "request": {
                        "header": [
                            {
                                "name": "Accept-Locale",
                                "description": "The locale for the locale-specific data to be returned.",
                                "frequency": "required",
                                "criteria": ["https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4"],
                                "examples": ["en_US"]
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Locale",
                                    "description": "The locale of the locale-specific data to be returned.",
                                    "frequency": "required",
                                    "criteria": ["https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4"],
                                    "examples": ["en_US"]
                                },
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "StaticLocaleDataResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 404,
                            "statusMessage": "Not Found"
                        }
                    ]
                }
            ]
        },
        "Availability": {
            "type": "symbolic",
            "location": "Availability",
            "methods": [
                {
                    "method": "POST",
                    "summary": "Get all the rooms available.",
                    "description": "This endpoint provides all the items available at a Site(Hotel)",
                    "request": {
                        "header": [
                            {
                                "name": "Content-Type",
                                "frequency": "required",
                                "criteria": ["application/json"]
                            }
                        ],
                        "body": [
                            {
                                "type": "json",
                                "schema": {
                                    "type": "reference",
                                    "tag": "AvailabilityRequest"
                                }
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "AvailabilityResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "Reservations": {
            "type": "symbolic",
            "location": "Reservations",
            "methods": [
                {
                    "method": "POST",
                    "summary": "Create a reservation",
                    "description": "Creates a reservation.",
                    "request": {
                        "body": [
                            {
                                "type": "json",
                                "schema": {
                                    "type": "reference",
                                    "tag": "PostReservationsRequest"
                                }
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 201,
                            "statusMessage": "Created",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "PostReservationsCreatedResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "description": "The reservation request was processed, but unable to be created.",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "PostReservationsFailedResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "Reservation": {
            "type": "symbolic",
            "location": "Reservation",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Retrieves a reservation.",
                    "description": "Retrieves a reservation.",
                    "request": {
                        "header": [
                            {
                                "name": "Accept",
                                "frequency": "optional",
                                "criteria": ["application/json"]
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ReservationResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 404,
                            "statusMessage": "Not Found",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "Currency": {
            "type": "symbolic",
            "location": "Currency",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Get currency information",
                    "description": "Retrieves currency information.",
                    "request": {
                        "query": [
                            {
                                "name": "code",
                                "frequency": "required",
                                "description": "The currency code.",
                                "criteria": ["currency code"],
                                "examples": ["USD", "EUR"]
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "CurrencyData"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 404,
                            "statusMessage": "Not Found",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "ExchangeRate": {
            "type": "symbolic",
            "location": "ExchangeRate",
            "methods": [
                {
                    "method": "GET",
                    "summary": "Monetary exchange information.",
                    "description": "Monetary exchange information.",
                    "request": {
                        "query": [
                            {
                                "name": "from",
                                "frequency": "required",
                                "description": "The currency to convert from.",
                                "criteria": ["currency code"],
                                "examples": ["USD", "EUR"]
                            },
                            {
                                "name": "to",
                                "frequency": "required",
                                "description": "The currency to convert to.",
                                "criteria": ["currency code"],
                                "examples": ["USD", "EUR"]
                            }
                        ]
                    },
                    "response": [
                        {
                            "statusCode": 200,
                            "statusMessage": "OK",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ExchangeRateResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 400,
                            "statusMessage": "Bad Request",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        },
                        {
                            "statusCode": 404,
                            "statusMessage": "Not Found",
                            "header": [
                                {
                                    "name": "Content-Type",
                                    "frequency": "required",
                                    "criteria": ["application/json"]
                                }
                            ],
                            "body": [
                                {
                                    "type": "json",
                                    "schema": {
                                        "type": "reference",
                                        "tag": "ErrorResponse"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    },
    "schemas": {
        "json": {
            "InstanceRootResponse": {
                "type": "object",
                "properties": [
                    {
                        "key": "version",
                        "description": "The version of this API. Uses semantic versioning.",
                        "frequency": "required",
                        "schema": {
                            "type": "string"
                        }
                    },{
                        "key": "services",
                        "description": "The URLs for every resource in this API.",
                        "frequency": "required",
                        "schema": {
                            "type": "object",
                            "properties": [
                                {
                                    "key": "StaticData",
                                    "description": "The URL for the StaticData service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "StaticLanguageData",
                                    "description": "The URL for the StaticLanguageData service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "StaticLocaleData",
                                    "description": "The URL for the StaticLocaleData service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "Availability",
                                    "description": "The URL for the Availability service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "Reservations",
                                    "description": "The URL for the Reservations service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "Reservation",
                                    "description": "The URL for the Reservation service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                },
                                {
                                    "key": "CurrencyExchange",
                                    "description": "The URL for the CurrencyExchange service.",
                                    "frequency": "required",
                                    "schema": {
                                        "type": "string",
                                        "criteria": ["URL"]
                                    }
                                }
                            ]
                        }
                    }
                ]
            },
            "StaticDataResponse": {
                "type": "object",
                "properties": [
                    {
                        "key": "id",
                        "description": "The site id.",
                        "frequency": "required",
                        "schema": {
                            "type": "string",
                            "criteria": ["site ID"]
                        }
                    },
                    {
                        "key": "logo",
                        "description": "Hotel's logo as a transparent image",
                        "frequency": "optional",
                        "schema": {
                            "type": "string",
                            "criteria": ["URL"]
                        }
                    },
                    {
                        "key": "title",
                        "description": "single line hotel name",
                        "frequency": "required",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "key": "phoneNumber",
                        "description": "main phone number for site or null",
                        "frequency": "required",
                        "schema": {
                            "type": "string",
                            "criteria": ["phone number"]
                        }
                    },
                    {
                        "key": "website",
                        "description": "url to return to when exiting",
                        "frequency": "required",
                        "schema": {
                            "type": "string",
                            "criteria": ["URL"]
                        }
                    },
                    {
                        "key": "languages",
                        "description": "url to return to when exiting",
                        "frequency": "required",
                        "schema": {
                            "type": "object",
                            "properties": [
                                {
                                    "key": {
                                        "criteria": ["language tag"],
                                        "examples": ["en_US"]
                                    },
                                    "frequency": "required",
                                    "schema": {
                                        "type": "object",
                                        "properties": [
                                            {
                                                "key": "name",
                                                "description": "Human readable name of the language in that language",
                                                "schema": {
                                                    "type": "string",
                                                    "examples": ["English", "Francais", "Deutche"]
                                                }
                                            },
                                            {
                                                "key": "icon",
                                                "description": "URL for the icon",
                                                "schema": {
                                                    "type": "string",
                                                    "criteria": ["URL"]
                                                }
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "key": "currencies",
                        "description": "Set of currencies supported by this site.",
                        "frequency": "required",
                        "schema": {
                            "type": "object",
                            "properties": [
                                {
                                    "key": {
                                        "criteria": ["currency code"],
                                        "examples": ["USD", "EUR", "GBP"]
                                    },
                                    "frequency": "required",
                                    "schema": {
                                        "type": "object"
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "key": "defaultLocale",
                        "frequency": "required",
                        "schema": {
                            "type": "string",
                            "criteria": ["https://tools.ietf.org/html/bcp47"],
                            "examples": ["en_US"]
                        }
                    },
                    {
                        "key": "defaultLanguage",
                        "frequency": "required",
                        "schema": {
                            "type": "string",
                            "criteria": ["https://tools.ietf.org/html/bcp47"],
                            "examples": ["en_US"]
                        }
                    },
                    {
                        "key": "allowGuestAccounts",
                        "frequency": "required",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "key": "chain",
                        "frequency": "required",
                        "schema": {
                            "type": "reference",
                            "tag": "Chain"
                        }
                    }
                ]
            },
            "Chain": {
                "type": "null"
            }
        }
    }
}
